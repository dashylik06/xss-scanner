<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò—Å—Ç–æ—Ä–∏—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π - XSS Scanner</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üìã –ò—Å—Ç–æ—Ä–∏—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π</h1>
            <p>–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫</p>
        </header>

        <nav>
            <a href="/" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="/scan" class="nav-link">–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</a>
            <a href="/history" class="nav-link active">–ò—Å—Ç–æ—Ä–∏—è</a>
            <a href="/statistics" class="nav-link">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
        </nav>

        <main>
            <div class="info-box">
                <h3>–í—Å–µ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π: {{ scans|length }}</h3>
            </div>

            <div class="scans-list">
                {% for scan in scans %}
                <div class="scan-item {{ 'completed' if scan.status == 'completed' else scan.status }}">
                    <div class="scan-header">
                        <h4>{{ scan.url[:50] }}{% if scan.url|length > 50 %}...{% endif %}</h4>
                        <span class="scan-status {{ scan.status }}">{{ scan.status }}</span>
                    </div>

                    <div class="scan-details">
                        <p><strong>–¢–∏–ø:</strong> {{ scan.scan_type }}</p>
                        <p><strong>–í—Ä–µ–º—è:</strong> {{ scan.timestamp }}</p>
                        <p><strong>–£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</strong>
                            <span class="security-badge {{ scan.security_level|lower|replace(' ', '-') }}">
                                {{ scan.security_level }}
                            </span>
                        </p>
                        <p><strong>–£—è–∑–≤–∏–º–æ—Å—Ç–µ–π:</strong> {{ scan.total_vulnerabilities or 0 }}</p>

                        <div class="scan-actions">
                            {% if scan.status == 'completed' %}
                            <a href="/report/{{ scan.scan_id }}" class="cta-button small">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç—á–µ—Ç</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </main>

        <footer>
            <p>&copy; XSS Scanner. –ò—Å—Ç–æ—Ä–∏—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–π.</p>
        </footer>
    </div>
</body>
</html>